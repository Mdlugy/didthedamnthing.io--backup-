<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
        <link
    rel="stylesheet"
    type="text/css"
    href="{{ url_for('static', filename='css/styles.css') }}"
  />

    <title>Document</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <img
          style="max-width:10%;
          max-height:10%;"
          src="{{ url_for('static', filename='img/green.png') }}"
          alt="logo"
        />
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Dropdown
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><hr class="dropdown-divider" /></li>
                  <li>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </li>
                </ul>
              </li>
            </ul>
            </form>
          </div>
        </div>
      </nav>
    <main>
    <div class="leftcontainer">
        <!-- method="POST" -->
<form action="/breakdowns/{{id}}/submit" method="POST" >
    <div id= "breakdowncontainer">

    <div id = "container1" class="breakdowncontainer">
        <h3>Date:</h3>
        <input name="date" type="date">
        <div id = "textarea1">
            <h3>Minimum Quantifiable Deliverable:</h3>
            <textarea name="mqd"  cols="30" rows="5"></textarea>
        </div>
        
        <h4>fill this later</h4>
        <input onclick = "checkcheck(1)"type="checkbox" id="1">
        <button type="button" onclick= "drop('container1')" >delete</button>
    </div> </div>
 <button type="submit">Submit</button>
   </form>
   <button onclick= "addbreakdown()"type="button" class="btn btn-info">add breakdown</button>

    </div>
    </main>

  </body>

  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  <script>
      var breakdownid = 1
      function addbreakdown(){
        breakdownid+=1
        document.getElementById("breakdowncontainer").insertAdjacentHTML('beforeend', '<div id = "container'+breakdownid+'" class="breakdowncontainer"><h3>Date:</h3> <input name="date" type="date"><div id = "textarea'+breakdownid+'"><h3>Minimum Quantifiable Deliverable:</h3><textarea id = "text'+breakdownid+' " name="mqd"  cols="30" rows="5"></textarea></div><h4>fill this later</h4>    <input onclick = "checkcheck('+breakdownid+')"type="checkbox" id="'+breakdownid+'"><button type="button" onclick= "drop(\'container'+breakdownid+'\')" >delete</button></div>')

      }
      function checkcheck(int){
        checkbox=document.getElementById(int)
        if (checkbox.checked==true){

            document.getElementById("textarea"+int).innerHTML="<input type='hidden' name='mqd' value = ''>"
        }
        else{
            console.log("unchecked")
         document.getElementById("textarea"+int).innerHTML='</h3><textarea id = "text'+int+' " name="mqd"  cols="30" rows="5"></textarea>'}
        }
      function drop(container){
          document.getElementById(container).remove();


      }
      
          

  </script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"
  ></script>
</html>
